{
  "enabled": true,
  "name": "Master Self-Check Protocol",
  "description": "Implement the Master Self-Check Protocol from development-workflow.md with context-aware rule loading",
  "version": "1",
  "when": {
    "type": "beforeResponse",
    "patterns": ["**/*"]
  },
  "then": {
    "type": "askAgent",
    "prompt": "üî• MASTER SELF-CHECK PROTOCOL ACTIVATED!\n\n**HOOK EXECUTION STATUS: ACTIVE**\n**TIMESTAMP:** $(date '+%Y-%m-%d %H:%M:%S')\n**TRIGGER:** Before response generation\n\n---\n\n**üß† PROTOCOL EXECUTION SEQUENCE**\n\nBefore responding, execute the Master Self-Check Protocol:\n\n**LEVEL 0: CONTEXT BOOTSTRAP (15 seconds)**\n‚ñ° Task Classification: Classify user request (Analysis/Planning/Implementation/Debug/Review)\n‚ñ° Rules Domain Check: Identify applicable rules (development-workflow.md, commit-standards.md, naming-conventions.md, frontend-development.md)\n‚ñ° Complexity Assessment: Assess task complexity (Simple/Medium/Complex/Multi-domain)\n‚ñ° Information Completeness: Validate context sufficiency\n\n**LEVEL 1: RULES INTEGRATION (30 seconds)**\n‚ñ° Development Phases: If involves development phases ‚Üí load development-workflow.md\n‚ñ° Git Operations: If involves git operations ‚Üí load commit-standards.md\n‚ñ° File Operations: If involves file operations ‚Üí load naming-conventions.md\n‚ñ° Code Changes: If involves code changes ‚Üí load frontend-development.md\n‚ñ° Cross-domain Conflict Check: Resolve conflicts using hierarchy\n\n**LEVEL 2: RESPONSE QUALITY GATE (15 seconds)**\n‚ñ° Accuracy Verification: Verify facts and assumptions\n‚ñ° Completeness Validation: Ensure all requirements addressed\n‚ñ° Actionability Confirmation: Verify clear next steps\n‚ñ° Documentation Impact: Identify documentation updates needed\n\n**GATE RULE: ALL_BOXES_CHECKED**\n\n**üìã EXECUTION VALIDATION:**\n- Did I execute Level 0: Context Bootstrap? [Y/N]\n- Did I execute Level 1: Rules Integration? [Y/N]\n- Did I execute Level 2: Response Quality Gate? [Y/N]\n- Can I explicitly state which rules domains apply? [Y/N]\n\n**üîó INTEGRATION:**\n- Trigger mandatory quality checks\n- Execute smart git context check\n- Update progress tracking and sync with requirements\n\n**üîç HOOK EXECUTION VISIBILITY:**\nPlease start your response with:\n'üî• MASTER-SELF-CHECK-PROTOCOL HOOK EXECUTED - [TIMESTAMP] - Running pre-response validation...'\n\nThen show each level execution:\n'‚è≥ Level 0: Context Bootstrap - [STATUS]'\n'‚è≥ Level 1: Rules Integration - [STATUS]'\n'‚è≥ Level 2: Response Quality Gate - [STATUS]'\n\nAnd end with:\n'‚úÖ MASTER-SELF-CHECK-PROTOCOL HOOK COMPLETED - All validation levels passed'\n\nIf any check fails: RESTART_PROTOCOL"
  }
}